<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<title data-react-helmet="true">Prescrypto Tutorial | Prescrypto Docs</title><meta data-react-helmet="true" property="og:url" content="https://prescrypto.github.io/prescrypto-docs/docs/tutorial/overview"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Prescrypto Tutorial | Prescrypto Docs"><meta data-react-helmet="true" name="description" content="This page explains how developers can get started using Prescrypto APIs."><meta data-react-helmet="true" property="og:description" content="This page explains how developers can get started using Prescrypto APIs."><link data-react-helmet="true" rel="shortcut icon" href="/prescrypto-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://prescrypto.github.io/prescrypto-docs/docs/tutorial/overview"><link data-react-helmet="true" rel="alternate" href="https://prescrypto.github.io/prescrypto-docs/docs/tutorial/overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://prescrypto.github.io/prescrypto-docs/docs/tutorial/overview" hreflang="x-default"><link rel="stylesheet" href="/prescrypto-docs/assets/css/styles.543f4bb6.css">
<link rel="preload" href="/prescrypto-docs/assets/js/runtime~main.8e45c151.js" as="script">
<link rel="preload" href="/prescrypto-docs/assets/js/main.e2b6adea.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/prescrypto-docs/"><img src="/prescrypto-docs/img/logo_prescrypto.png" alt="Prescrypto Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/prescrypto-docs/img/logo_prescrypto.png" alt="Prescrypto Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Prescrypto Docs</b></a><a class="navbar__item navbar__link navbar__link--active" href="/prescrypto-docs/docs/intro">Prescrypto API</a><a class="navbar__item navbar__link" href="/prescrypto-docs/docs/deeplink/overview">Deeplink</a><a class="navbar__item navbar__link" href="/prescrypto-docs/docs/pharmacy/overview">Pharmacy</a><a class="navbar__item navbar__link" href="/prescrypto-docs/docs/products/overview">Products</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Prescrypto/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.prescrypto.com/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Developer Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT"></span></div><div class="react-toggle-track-x"><span class="toggle_71bT"></span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/prescrypto-docs/"><img src="/prescrypto-docs/img/logo_prescrypto.png" alt="Prescrypto Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/prescrypto-docs/img/logo_prescrypto.png" alt="Prescrypto Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Prescrypto Docs</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/prescrypto-docs/docs/intro">Prescrypto API</a></li><li class="menu__list-item"><a class="menu__link" href="/prescrypto-docs/docs/deeplink/overview">Deeplink</a></li><li class="menu__list-item"><a class="menu__link" href="/prescrypto-docs/docs/pharmacy/overview">Pharmacy</a></li><li class="menu__list-item"><a class="menu__link" href="/prescrypto-docs/docs/products/overview">Products</a></li><li class="menu__list-item"><a href="https://github.com/Prescrypto/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://www.prescrypto.com/contact" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Developer Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/prescrypto-docs/docs/intro">Prescrypto API Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/medic">Medic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/hospital">Hospital</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/membership">Membership</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/patient">Patient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/prescription">Prescription</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/medication">Medication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/location">Location</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/api/webhooks">Webhooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integration with Deeplink</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/deeplink/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/deeplink/deeplink">Deeplink</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Pharmacy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/pharmacy/overview">Pharmacy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Products</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/prescrypto-docs/docs/products/overview">Products</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/prescrypto-docs/docs/tutorial/overview">Prescrypto Tutorial</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Prescrypto Tutorial</h1></header><p>This page explains how developers can get started using Prescrypto APIs.</p><p>If you are using Prescrypto APIs for the first time, you can follow the steps in this guide to call the APIs using curl commands. You can use curl commands to experiment with an API before you develop your application.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-the-main-models"></a>Creating the main Models<a class="hash-link" href="#creating-the-main-models" title="Direct link to heading">#</a></h2><p>Below we can see the main models to start using the API. Hospitals, and Medics. </p><p><img alt="Base Models Diagram" src="/prescrypto-docs/assets/images/base_models-96f2894b12e87d796c0ba09589a13056.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-an-hospital"></a>Creating an Hospital<a class="hash-link" href="#creating-an-hospital" title="Direct link to heading">#</a></h3><p>First we recommend create a place to work. So the endpoint <a href="/prescrypto-docs/docs/api/hospital">hospital</a> will be the first to hint!</p><p>Example Request</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl --request POST \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url &lt;BASE&gt;/api/v2/hospital/ \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Authorization: Token &lt;TOKEN&gt;&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Content-Type: application/json&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --data &#x27;{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;name&quot;: &quot;Test Hospital(Short name)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // PRINTED FIELDS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;patron&quot;: &quot;TEST HOSPITAL&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;headline&quot;: &quot;Slogan&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;location&quot;: &quot;My address&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;contact&quot;: &quot;2384094571, 557658394 hola@gmail.com&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // Optional fields</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;page_size&quot;: 0, // DEFAULT LETTER &#x27;0&#x27;, HALF PAGE &#x27;1&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;info&quot;: false // DEFAULT false, whether shows extra info or not in the prescription pdf</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: 9&lt;HOSPITAL_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;created_at&quot;: &quot;2021-07-21T23:00:30.278678Z&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;Test Hospital&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;patron&quot;: &quot;TEST HOSPITAL&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;headline&quot;: &quot;Slogan&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;location&quot;: &quot;My address&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;contact&quot;: &quot;5551111222, hola@gmail.com&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;page_size&quot;: 0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;picture&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;university_logo&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;is_active&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;is_admin&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;info&quot;: false</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The pictures could be upload using the webform on the plataform or via postman forms alike. On our postman collection we have an example.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>TIP: Pay attention to required and non required fields</h5></div><div class="admonition-content"><p>Also what the default configurations means, these fields affect the medic workflow alongside Prescrypto platform.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-medics"></a>Creating Medics<a class="hash-link" href="#creating-medics" title="Direct link to heading">#</a></h3><p>So having the HOSPITAL_ID (9) we can proceed to create new medic users. Lets create two medics, one with the hospital recently created and other without hospital.</p><p>So we will use the endpoint <a href="/prescrypto-docs/docs/api/medic">medics</a></p><p>Example Request</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl --request POST \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url &lt;BASE&gt;/api/v2/medics/ \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Authorization: Token &lt;TOKEN&gt;&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Content-Type: application/json&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --data &#x27;{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;Test Doctor Who&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;password&quot;: &quot;SomeRandomPASS&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;email&quot;: &quot;testemailing@email.com&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;date_of_birth&quot;: &quot;1991-09-03&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;cedula_prof&quot;: &quot;ABC1234&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;specialty_no&quot;: &quot;ABC12345&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;specialty&quot;: &quot;Oftalm贸logo&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;alma_mater&quot;: &quot;Testing University&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;female&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;specialty_verified&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hospital&quot;: 9,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Optional fields</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;is_active&quot;: true, // Default true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;is_admin_membership&quot;: true // Default false</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: What about &quot;is_admin_membership&quot;</h5></div><div class="admonition-content"><p>If the field is settled TRUE, the medic user can edit the hospital or invite new members to it, otherwise, the medic will be only a member, who can create prescriptions from that location or remove their own membership. In the Membership Section there is more explanation.</p></div></div><p>Response</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: 3253,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;token&quot;: &quot;ee8c126TEST&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;Test Doctor Who&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;password&quot;: &quot;pbkdf2_sha256$150000$seSHVhCcpeF0$Lt7E9e9hpXYg5iG4Z7nGa5YWTb6LIjRzP8FIkiskWT0=&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;email&quot;: &quot;testemailing@email.com&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hospital&quot;: 9,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;date_of_birth&quot;: &quot;1991-09-03&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;cedula_prof&quot;: &quot;ABC1234&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;specialty_no&quot;: &quot;ABC1234&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;specialty&quot;: &quot;Oftalm贸logo&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;alma_mater&quot;: &quot;Testing University&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;female&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;is_active&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;specialty_verified&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;campaign&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;is_admin_membership&quot;: false</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>INFO: Save the medic id on your own database</h5></div><div class="admonition-content"><p>We highly recommend you to save the ID&#x27;s of the doctors you have create. In order to have a better integration.</p></div></div><blockquote><p>We verify the metadata of every medic on our plataform, if the medic has not specialty verified, shamely that medic couldn&#x27;t create any prescription. So please let us know if your integrations has not specialty verified users.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-prescriptions"></a>Creating Prescriptions<a class="hash-link" href="#creating-prescriptions" title="Direct link to heading">#</a></h2><p>So the next step is create the first prescription</p><p>Regarding the before steps, we have the following data:</p><table><thead><tr><th>LABEL</th><th>value</th></tr></thead><tbody><tr><td>HOSPITAL_ID</td><td>9</td></tr><tr><td>MEDIC_ID</td><td>3253</td></tr><tr><td>MEDIC_TOKEN</td><td>ee8c126TEST</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-a-patient"></a>Creating a Patient<a class="hash-link" href="#creating-a-patient" title="Direct link to heading">#</a></h3><blockquote><p>Important: Look up that the following instructions you will use the medic token instead of the admin user token</p></blockquote><p>You can see the <a href="/prescrypto-docs/docs/api/patient">patient endpoint</a> aswell, in order to have more details about patient model.
Before create a prescription, the patient ID is required, you have to create or search for the patient, as follows:</p><p>Search patient</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;search_word&quot; could be email or name</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl --location </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request GET &#x27;&lt;BASE&gt;/api/v2/patient/?search=&lt;SEARCH_WORD&gt;&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Authorization: Token &lt;MEDIC_TOKEN&gt;&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;id&quot;: 180,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;Jesus Alvarado&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;email&quot;: &quot;testPatient@email.com&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;date_of_birth&quot;: &quot;1990-01-18&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;external_patient_file&quot;: &quot;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;gender&quot;: &quot;M&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;curp&quot;: &quot;ABCTEST&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;phone&quot;: &quot;555123456&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;address&quot;: &quot;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;state&quot;: &quot;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;zip_code&quot;: &quot;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;location&quot;: &quot;CDMX, Ciudad de M茅xico&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;uid&quot;: &quot;da59b2a8-5473-4b6c-b67e-06b07b6602e7&quot;. // &lt;PATIENT_ID&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>So the important field is <code>uid</code>. Save it.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="adding-medications"></a>Adding Medications<a class="hash-link" href="#adding-medications" title="Direct link to heading">#</a></h3><p>The medication object has a lot of useful fields, but in this tutorial only we take care of the needed in order to create a prescription. For more details see the <a href="/prescrypto-docs/docs/api/medication">medication api</a> section</p><p>Example of a simple medication</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;presentation&quot;: &quot;Spiolto Respimat Soluci贸n Cartucho de 4ML 30 Dosis Caja (tiotropio 0.226 mg, clorhidrato de olodaterol 0.226 mg)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;instructions&quot;: &quot;Una vez cada 8 horas&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;qty&quot;: 3,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;drug_upc&quot;: &quot;0b7949396af3a5c03d68f22b267b0d85f5175b23f8533ad1ff261c0d5bd5191e&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;category&quot;: &quot;standard_drug&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Notice that the field <code>drug_upc</code> and <code>category</code> are special. See the following table to know how to fullfil those fields. </p></div></div><table><thead><tr><th>Whether you have  this field</th><th>MUST</th><th>Optional</th></tr></thead><tbody><tr><td><code>drug_upc</code>: &quot;from your catalog&quot;</td><td>category: <code>&quot;basic_drug&quot;</code></td><td>-</td></tr><tr><td><code>drug_upc</code>: &quot;from our catalog&quot;</td><td>category: <code>&quot;from our catalog category&quot;</code> We send you the correct category for the product</td><td>category: <code>&quot;basic_drug&quot;</code> Could be <code>basic_drug</code> if it belong to your catalog too</td></tr><tr><td><code>drug_upc</code>: <code>&quot;&quot;</code></td><td>-</td><td>-</td></tr></tbody></table><blockquote><p>See the <a href="/prescrypto-docs/docs/products/overview">products endpoint</a> to see more details about how to find medications from our catalog</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-prescription"></a>Create prescription<a class="hash-link" href="#create-prescription" title="Direct link to heading">#</a></h3><p>Now the process of create a prescription is as follow:</p><p>First we have to create the payload adding the before values:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl --location --request POST &#x27;&lt;BASE&gt;/api/v2/rx-endpoint/&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Authorization: Token &lt;MEDIC_TOKEN&gt;&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Content-Type: application/json&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw &#x27;{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hospital&quot;: 9,  // &lt;HOSPITAL_ID&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;clinic&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;patient&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;uid&quot;: &quot;cba292ec-2a76-47d7-b746-902c9d41a9f4&quot; // &lt;PATIENT_UID&gt; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;diagnosis&quot;: &quot;Diagnostico de prueba!&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;medications&quot;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;presentation&quot;: &quot;Spiolto Respimat Soluci贸n Cartucho de 4ML 30 Dosis Caja (tiotropio 0.226 mg, clorhidrato de olodaterol 0.226 mg)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;instructions&quot;: &quot;Spiolto Med&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;qty&quot;: 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drug_upc&quot;: &quot;0b7949396af3a5c03d68f22b267b0d85f5175b23f8533ad1ff261c0d5bd5191e&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;category&quot;: &quot;standard_drug&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;presentation&quot;: &quot;Prueba de Detecci贸n de SARS-CoV-2 (COVID-19)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;instructions&quot;: &quot;Porfavor haga esta prueba&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;qty&quot;: 3,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drug_upc&quot;: &quot;83cd6128a7f3f50dab182b20cee7aa966a2255e77ba2d16b200f2c2d191430e4&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;category&quot;: &quot;standard_drug&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extras&quot;: &quot;Indicaciones extras para el paciente u observaciones&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;show_diagnosis&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;send_rx&quot;: true, // if set false, the rx won&#x27;t sent</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The response is as follow:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: 2136,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hospital&quot;: 9,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;clinic&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;medic&quot;: &quot;&lt;MEDIC_EMAIL&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;patient&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uid&quot;: &quot;&lt;PATIENT_UID&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;&lt;PATIENT_NAME&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;email&quot;: &quot;&lt;PATIENT_EMAIL&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;diagnosis&quot;: &quot;Prueba para medicamentos , pharmacy&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;medications&quot;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: 439,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;presentation&quot;: &quot;Prueba de Detecci贸n de SARS-CoV-2 (COVID-19)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;instructions&quot;: &quot;Porfavor haga esta prueba&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;drug&quot;: &quot;Prueba de Deteccion de SARS-CoV-2 (COVID-19)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cost&quot;: 0.0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;bought&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;qty&quot;: 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;bought_qty&quot;: 0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;drug_upc&quot;: &quot;&lt;DRUG_UPC&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;order_id&quot;: 0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;category&quot;: &quot;standard_drug&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;qty_label&quot;: &quot;Sin suspender&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: 438,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;presentation&quot;: &quot;Spiolto Respimat Soluci贸n Cartucho de 4ML 30 Dosis Caja (tiotropio 0.226 mg, clorhidrato de olodaterol 0.226 mg)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;instructions&quot;: &quot;Spiolto Med&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;drug&quot;: &quot;Spiolto Respimat Solucion Cartucho de 4ML 30 Dosis Caja (tiotropio 0.226 mg, clorhidrato de olodaterol 0.226 mg)&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cost&quot;: 0.0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;bought&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;qty&quot;: 3,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;bought_qty&quot;: 0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;drug_upc&quot;: &quot;0b7949396af3a5c03d68f22b267b0d85f5175b23f8533ad1ff261c0d5bd5191e&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;order_id&quot;: 0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;category&quot;: &quot;standard_drug&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;qty_label&quot;: &quot;A la discreci贸n del farmac茅utico(a)&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extras&quot;: &quot;Indicaciones extras para el paciente u observaciones&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;signature&quot;: &quot;c3096f28b4df5f19f04bcf39ba8cc0b81ce38068dd03a98c7eb37a8be38fdfd7&quot;, // &lt;RX_ID&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;created_at&quot;: &quot;2021-08-14&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;sent&quot;: null, // The API sent the email in async way, that means that the status will be update after some minutes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;send_rx&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;additional_data&quot;: {},</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;show_diagnosis&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rejected&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;bought&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;cta_link&quot;: &quot;&lt;BASE_URL&gt;/r/4q&quot; // Link that redirect the user to our patient landing, where can found an external service to get the medications</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The important field is the <code>signature</code> field and the status of the rx about bought medications. So you can see details of the prescription everytime using the <a href="/prescrypto-docs/docs/api/prescription">prescription detail endpoint</a></p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="listening-webhooks"></a>Listening webhooks<a class="hash-link" href="#listening-webhooks" title="Direct link to heading">#</a></h3><p>The webhooks are important in cases where you have external services who need to know when a prescription is made by one of your medics.</p><p>You must define a POST Endpoint where we can send the information. And give us the list of the medics by email or the hospitals that you manage, so whenever a medic listed before made a prescription we send a post request to your webhook endpoint. </p><p>Lets see an example:
We send to a Prescrypto admin the follow information:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">HOSPITAL_ID_LIST = [&lt;HOSPITAL_ID_01&gt;, &lt;HOSPITAL_ID_2&gt;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">MEDIC_ID_LIST = [&lt;MEDIC_ID&gt;, &lt;MEDIC_EMAIL&gt;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">WEBHOOOK_URL = &quot;&lt;MY_SITE_DOMAIN&gt;&lt;WEBHOOK_PATH_URL&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We validate that the hospitals and medics exists, besides the webhook has allowed POST requests.</p><p>Then whenever a prescription is made from that list of users, we sent to your webhook the follow information</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    signature: &quot;&lt;SIGNATURE_ID&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>So you can hit the prescription <a href="/prescrypto-docs/docs/api/prescription">detail view</a> or do whatever your bussiness logic need</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="management-memberships"></a>Management Memberships<a class="hash-link" href="#management-memberships" title="Direct link to heading">#</a></h2><p>Below we can see the main use cases to start using the membership endpoints. </p><p><img alt="Base Models Diagram" src="/prescrypto-docs/assets/images/membership_diagram-bab15d8d1ca1d5af7d940d347a540cd4.png"></p><p>Lets see the Prescrypto API endpoints about to manage the memberships.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="see-list-of-memberships-that-admin-user-can-manage"></a>See list of memberships that admin user can manage<a class="hash-link" href="#see-list-of-memberships-that-admin-user-can-manage" title="Direct link to heading">#</a></h3><p>As you can see in the above diagram, the membership is the model object that act as union between medic and hospital, you can register new medics to a hospital creating a membership, revoke permisions making a <code>&quot;DELETE&quot;</code> request or modify between <code>&quot;MEMBER&quot;</code> or <code>&quot;ADMIN&quot;</code> type of membership.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BASE</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/api/v2/management/memberships/ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header </span><span class="token string" style="color:#e3116c">&#x27;Authorization: Token &lt;ADMIN_TOKEN&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;count&quot;: 2, // Number of memberships found</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;next&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;previous&quot;: null,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;results&quot;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;medic&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;id&quot;: 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;email&quot;: &quot;test.1@email.com&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;Medic TEST 01&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;hospital&quot;: &lt;HOSPITAL_ID_01&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type_membership&quot;: &quot;ADMIN&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_active&quot;: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_deleted&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;date_joined&quot;: &quot;2019-06-21T17:00:09.472000Z&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &lt;MEMBERSHIP_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;medic&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;id&quot;: &lt;MEDIC_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;email&quot;: &quot;&lt;MEDIC_EMAIL&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;&lt;MEDIC_NAME&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;hospital&quot;: &lt;HOSPITAL_ID_02&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type_membership&quot;: &quot;&lt;MEMBER_OR_ADMIN&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_active&quot;: true,   // Means the hospital is the currect active hospital with the user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_deleted&quot;: false, // whether the user can use the location or not</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;date_joined&quot;: &quot;2019-06-21T17:00:21.424000Z&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>TIP: Don&#x27;t forget the  <code>MEMBERSHIP_ID</code> , <code>MEDIC_ID</code>, <code>HOSPITAL_ID</code> these are the most important fields in this section</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="see-list-of-memberships-from-one-hospital"></a>See list of memberships from one hospital<a class="hash-link" href="#see-list-of-memberships-from-one-hospital" title="Direct link to heading">#</a></h3><p>Other use of case is when a medic admin only wants to see the memberships by hospital. Lets see one example.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BASE</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/api/v2/memberships/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">HOSPITAL_ID</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header </span><span class="token string" style="color:#e3116c">&#x27;Authorization: Token &lt;TOKEN&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"> [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &lt;MEMBERSHIP_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;medic&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;id&quot;: &lt;MEDIC_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;email&quot;: &quot;&lt;MEDIC_EMAIL&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;&lt;MEDIC_NAME&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;hospital&quot;: &lt;HOSPITAL_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type_membership&quot;: &quot;&lt;MEMBER_OR_ADMIN&gt;&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_active&quot;: true,   // Means the hospital is the currect active hospital with the user</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_deleted&quot;: false, // whether the user can use the location or not</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;date_joined&quot;: &quot;2019-06-21T17:00:21.424000Z&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For example you can see this list when enter to edit an hospital, a hit to the hospital and other for the list of memberships inside are requested.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="modify-memberships"></a>Modify memberships<a class="hash-link" href="#modify-memberships" title="Direct link to heading">#</a></h3><p>The important fields to change are, <code>type_of_membership</code>, <code>medic</code> or <code>hospital</code>.
So you have to store these values before proceed to change the membership, also the &lt;MEMBERSHIP_ID&gt;</p><blockquote><p>Only your management memberships are allowed to modify , lets see an example:</p></blockquote><p>Request</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl --request PATCH \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url &lt;BASE&gt;/api/v2/management/memberships/&lt;MEMBERSHIP_ID&gt;/ \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Authorization: Token &lt;ADMIN_TOKEN&gt;&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Content-Type: application/json&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --data &#x27;{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type_membership&quot;: &quot;MEMBER&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response 200 OK</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &lt;MEMBERSHIP_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;medic&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: &lt;MEDIC_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;&lt;MEDIC_NAME&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;email&quot;: &quot;&lt;MEDIC_EMAIL&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hospital&quot;: &lt;HOSPITAL_ID&gt;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type_membership&quot;: &quot;MEMBER&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;is_active&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;is_deleted&quot;: false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;date_joined&quot;: &quot;2021-07-21T21:43:41.315975Z&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="delete-or-remove-memberships"></a>Delete or remove memberships<a class="hash-link" href="#delete-or-remove-memberships" title="Direct link to heading">#</a></h3><p>There is a way to elimitate a membership, using this endpoint but this will be as a soft delete. That means that the <code>&quot;is_deleted&quot;</code> field will be set to <code>true</code>. Lets see the example</p><p>Request </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl --request DELETE \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url &lt;BASE&gt;/api/v2/management/memberships/&lt;MEMBERSHIP_ID&gt;/ \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Authorization: Token &lt;ADMIN_TOKEN&gt;&#x27; \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Content-Type: application/json&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response HTTP_204_NO_CONTENT</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>Notice that the response is empty, but the status code is <em>204</em></p></blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/prescrypto-docs/docs/products/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">芦 Products</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-the-main-models" class="table-of-contents__link">Creating the main Models</a><ul><li><a href="#creating-an-hospital" class="table-of-contents__link">Creating an Hospital</a></li><li><a href="#creating-medics" class="table-of-contents__link">Creating Medics</a></li></ul></li><li><a href="#creating-prescriptions" class="table-of-contents__link">Creating Prescriptions</a><ul><li><a href="#creating-a-patient" class="table-of-contents__link">Creating a Patient</a></li><li><a href="#adding-medications" class="table-of-contents__link">Adding Medications</a></li><li><a href="#create-prescription" class="table-of-contents__link">Create prescription</a></li><li><a href="#listening-webhooks" class="table-of-contents__link">Listening webhooks</a></li></ul></li><li><a href="#management-memberships" class="table-of-contents__link">Management Memberships</a><ul><li><a href="#see-list-of-memberships-that-admin-user-can-manage" class="table-of-contents__link">See list of memberships that admin user can manage</a></li><li><a href="#see-list-of-memberships-from-one-hospital" class="table-of-contents__link">See list of memberships from one hospital</a></li><li><a href="#modify-memberships" class="table-of-contents__link">Modify memberships</a></li><li><a href="#delete-or-remove-memberships" class="table-of-contents__link">Delete or remove memberships</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/prescrypto-docs/docs/tutorial/overview">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/prescrypto/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/pre_rx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://blog.prescrypto.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://www.prescrypto.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Prescrypto Page</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 漏 2021 Prescrypto Docs. Built with Docusaurus.</div></div></div></footer></div>
<script src="/prescrypto-docs/assets/js/runtime~main.8e45c151.js"></script>
<script src="/prescrypto-docs/assets/js/main.e2b6adea.js"></script>
</body>
</html>